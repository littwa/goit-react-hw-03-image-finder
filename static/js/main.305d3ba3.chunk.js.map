{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/FetchImages/FetchImages.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","state","inputValue","agreed","handleChange","e","persist","setState","target","value","handleSubmit","preventDefault","props","forSubmitSearchbar","className","style","onSubmit","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","React","Component","ImageGalleryItem","webformatURL","largeImageURL","modal","onClick","src","alt","ImageGalleryItemImage","defaultProps","ImageGallery","images","console","log","map","el","key","id","Button","fetchImgAPI","Modal","myRef","createRef","current","focus","ref","nodeName","closeModal","onKeyDown","Overlay","tabIndex","ModalStyle","large","FetchImages","q","page","pageAmount","fetch","then","resp","json","App","openModal","loading","error","noImages","query","pageNumbear","largeImageForModal","undefined","data","arrImg","hits","length","prevState","catch","finally","openModalToggle","prevProps","snapshot","window","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","clientWidth","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.305d3ba3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2JV1H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__auwu9\"};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends React.Component {\r\n static propTypes = {\r\n  forSubmitSearchbar: PropTypes.func.isRequired\r\n };\r\n\r\n state = {\r\n  inputValue: \"\",\r\n  agreed: true\r\n };\r\n\r\n handleChange = e => {\r\n  e.persist();\r\n  this.setState({ inputValue: e.target.value });\r\n };\r\n handleSubmit = e => {\r\n  e.preventDefault();\r\n\r\n  this.props.forSubmitSearchbar(this.state.inputValue);\r\n };\r\n\r\n render() {\r\n  return (\r\n   <header className={style.Searchbar}>\r\n    <form onSubmit={this.handleSubmit} className={style.SearchForm}>\r\n     <button type=\"submit\" className={style.SearchFormButton}>\r\n      <span className={style.SearchFormButtonLabel}>Search</span>\r\n     </button>\r\n\r\n     <input\r\n      onChange={this.handleChange}\r\n      value={this.state.inputValue}\r\n      className={style.SearchFormInput}\r\n      type=\"text\"\r\n      autoComplete=\"off\"\r\n      autoFocus\r\n      placeholder=\"Search images and photos\"\r\n     />\r\n    </form>\r\n   </header>\r\n  );\r\n }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, modal }) => {\r\n return (\r\n  <li\r\n   onClick={() => {\r\n    modal(largeImageURL);\r\n   }}\r\n   className={style.ImageGalleryItem}\r\n  >\r\n   <img src={webformatURL} alt=\"pic\" className={style.ImageGalleryItemImage} />\r\n  </li>\r\n );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n webformatURL: PropTypes.string,\r\n largeImageURL: PropTypes.string,\r\n modal: PropTypes.func\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n webformatURL: \"https://dummyimage.com/640x480/2a2a2a/ffffff&text=Image+placeholder\",\r\n largeImageURL: \"https://dummyimage.com/640x480/2a2a2a/ffffff&text=Image+placeholder\"\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ modal, images }) => {\r\n console.log(\"RENDER ImageGallery\");\r\n return (\r\n  <ul className={style.ImageGallery}>\r\n   {images.map(el => (\r\n    <ImageGalleryItem\r\n     key={el.id}\r\n     webformatURL={el.webformatURL}\r\n     largeImageURL={el.largeImageURL}\r\n     modal={modal}\r\n    />\r\n   ))}\r\n   <div className=\"divForIntersectionObserver\"></div>\r\n  </ul>\r\n );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n modal: PropTypes.func.isRequired,\r\n images: PropTypes.array.isRequired\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./Button.module.css\";\r\n\r\nclass Button extends React.Component {\r\n static propTypes = { fetchImgAPI: PropTypes.func.isRequired };\r\n\r\n render() {\r\n  return (\r\n   <button onClick={this.props.fetchImgAPI} className={style.Button}>\r\n    Load more\r\n   </button>\r\n  );\r\n }\r\n}\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Overlay, ModalStyle } from \"./Modal.module.css\";\r\n\r\nclass Modal extends React.Component {\r\n static propTypes = { closeModal: PropTypes.func.isRequired, large: PropTypes.string };\r\n\r\n myRef = React.createRef();\r\n\r\n componentDidMount() {\r\n  this.myRef.current.focus();\r\n }\r\n\r\n render() {\r\n  return (\r\n   <div\r\n    ref={this.myRef}\r\n    onClick={e => e.target.nodeName !== \"IMG\" && this.props.closeModal()}\r\n    onKeyDown={e => e.key === \"Escape\" && this.props.closeModal()}\r\n    className={Overlay}\r\n    tabIndex=\"0\"\r\n   >\r\n    <div className={ModalStyle}>\r\n     <img src={this.props.large} alt=\"pic\" />\r\n    </div>\r\n   </div>\r\n  );\r\n }\r\n}\r\n\r\nexport default Modal;\r\n","const FetchImages = (q, page, pageAmount) => {\r\n return fetch(\r\n  `https://pixabay.com/api/?key=16717692-bb141906bc5c82eed9886cf8d&q=${q}&page=${page}&image_type=photo&orientation=horizontal&per_page=${pageAmount}`\r\n ).then(resp => resp.json());\r\n};\r\n\r\nexport default FetchImages;\r\n","import React from \"react\";\r\nimport Searchbar from \"./Searchbar/Searchbar\";\r\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\r\nimport Button from \"./Button/Button\";\r\nimport Modal from \"./Modal/Modal\";\r\n// //Services\r\nimport FetchImages from \"./FetchImages/FetchImages\";\r\n// //Styles\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nclass App extends React.Component {\r\n state = {\r\n  openModal: false,\r\n  loading: false,\r\n  error: false,\r\n  noImages: false,\r\n  query: \"\",\r\n  images: [],\r\n  pageNumbear: 1,\r\n  pageAmount: 12,\r\n  largeImageForModal: undefined\r\n };\r\n\r\n //  getSnapshotBeforeUpdate(prevProps, prevState) {\r\n //   return document.documentElement.scrollHeight - 160;\r\n //  }\r\n\r\n componentDidUpdate(prevProps, prevState, snapshot) {\r\n  if (prevState.query !== this.state.query) {\r\n   this.fetchImgAPI();\r\n  }\r\n\r\n  if (prevState.images.length !== this.state.images.length && prevState.images.length > 0) {\r\n   window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: \"smooth\"\r\n   });\r\n  }\r\n }\r\n\r\n fetchImgAPI = () => {\r\n  this.setState({ loading: true });\r\n  let { query, pageNumbear, pageAmount } = this.state;\r\n\r\n  FetchImages(query, pageNumbear, pageAmount)\r\n   .then(data => {\r\n    let arrImg = data.hits.map(el => ({\r\n     id: el.id,\r\n     webformatURL: el.webformatURL,\r\n     largeImageURL: el.largeImageURL\r\n    }));\r\n    if (arrImg.length === 0) {\r\n     this.setState({ noImages: true });\r\n    }\r\n    this.setState(prevState => ({\r\n     images: [...prevState.images, ...arrImg],\r\n     pageNumbear: (prevState.pageNumbear += 1)\r\n    }));\r\n   })\r\n   .catch(error => this.setState({ error }))\r\n   .finally(() => this.setState({ loading: false }));\r\n };\r\n\r\n forSubmitSearchbar = value => {\r\n  if (this.state.query !== value) {\r\n   this.setState({ query: value, images: [], pageNumbear: 1, noImages: false });\r\n  }\r\n };\r\n\r\n openModalToggle = largeImageURL => {\r\n  this.setState(() => ({ openModal: !this.state.openModal, largeImageForModal: largeImageURL }));\r\n };\r\n\r\n render() {\r\n  return (\r\n   <>\r\n    <Searchbar forSubmitSearchbar={this.forSubmitSearchbar} />\r\n    {this.state.images.length > 0 && <ImageGallery modal={this.openModalToggle} images={this.state.images} />}\r\n    {this.state.images.length > 0 && !this.state.loading && !this.state.noImages && (\r\n     <Button fetchImgAPI={this.fetchImgAPI} />\r\n    )}\r\n    {this.state.loading && (\r\n     <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={document.documentElement.clientWidth} />\r\n    )}\r\n    {this.state.error && <p className={\"notif\"}>Error, try again later</p>}\r\n    {this.state.noImages && <p className={\"notif\"}> No Images!!!</p>}\r\n\r\n    {this.state.openModal && (\r\n     <Modal closeModal={this.openModalToggle} large={this.state.largeImageForModal} />\r\n    )}\r\n   </>\r\n  );\r\n }\r\n}\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport styles from \"./styles.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__QskXr\",\"SearchForm\":\"Searchbar_SearchForm__7Q8rh\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3BhrQ\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__Qbzmf\",\"SearchFormInput\":\"Searchbar_SearchFormInput__NAOfO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2vyIx\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3m56M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2FrjI\",\"ModalStyle\":\"Modal_ModalStyle__3R8GK\"};"],"sourceRoot":""}